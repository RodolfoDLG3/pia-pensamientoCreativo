<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAFECU</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="src/css/menu.css">
    <link rel="stylesheet" type="text/css" href="src/css/vendor/normalize.css">
</head>
<body>
    <header>
        <div id="mySidenav" class="sidenav">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
          <a href="cafeterias.html">Inicio</a>
          <a href="mapa.html">Mapa</a>
            <a href="perfil.html">Perfil</a>
    
        </div>
        <span onclick="openNav()">&#9776;</span>
        
        <script>
        function openNav() {
          document.getElementById("mySidenav").style.width = "400px";
        }
        
        function closeNav() {
          document.getElementById("mySidenav").style.width = "0";
        }
        </script>
    
        <h1><a href="cafeterias.html">CAFECU</a></h1>
    </header>
    <br><br><br><br><br>
    <center>
        <h2 class="btn btn-success" style="--bs-btn-padding-y: .5rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: 2.5rem;">Disponible</h2>
    </center>
    <center>
        <div class="contenedor">
            <div class="gallery">
                <div class="card" style="width: 25rem;">
                    <img src="src/img/hamburguesa.png" class="card-img-top">
                    <div class="card-body">
                        <center>
                            <h5 class="card-title">Hamburguesa</h5>
                            <p class="price">$60</p>
                        </center>
                      <p class="card-text">Calorias: 330<br>Proteinas (g): 23<br>Carbohidratos (g): 45</p>
                      <a class="btn btn-primary" onclick="addToCart(this)">Añadir al carrito</a>
                    </div>
                </div>
                <div class="card" style="width: 25rem;">
                    <img src="src/img/sandwich.png" class="card-img-top">
                    <div class="card-body">
                        <center>
                            <h5 class="card-title">Sandwich</h5>
                            <p class="price">$40</p>
                        </center>
                      <p class="card-text">Calorias: 210<br>Proteinas (g): 19<br>Carbohidratos (g): 32</p>
                      <a class="btn btn-primary" onclick="addToCart(this)">Añadir al carrito</a>
                    </div>
                </div>
                <div class="card" style="width: 25rem;">
                    <img src="src/img/torta-de-pierna.png" class="card-img-top">
                    <div class="card-body">
                        <center>
                            <h5 class="card-title">Torta de pierna</h5>
                            <p class="price">$60</p>
                        </center>
                      <p class="card-text">Calorias: 230<br>Proteinas (g): 23<br>Carbohidratos (g): 45</p>
                      <a class="btn btn-primary" onclick="addToCart(this)">Añadir al carrito</a>
                    </div>
                </div>
                <div class="card" style="width: 25rem;">
                    <img src="src/img/carnitas.png" class="card-img-top">
                    <div class="card-body">
                        <center>
                            <h5 class="card-title">Carnitas</h5>
                            <p class="price">$60</p>
                        </center>
                      <p class="card-text">Calorias: 230<br>Proteinas (g): 23<br>Carbohidratos (g): 45</p>
                      <a class="btn btn-primary" onclick="addToCart(this)">Añadir al carrito</a>
                    </div>
                </div>
                <div class="card" style="width: 25rem;">
                    <img src="src/img/carnitas-con-tomate.png" class="card-img-top">
                    <div class="card-body">
                        <center>
                            <h5 class="card-title">Carnitas con tomate</h5>
                            <p class="price">$60</p>
                        </center>
                      <p class="card-text">Calorias: 230<br>Proteinas (g): 23<br>Carbohidratos (g): 45</p>
                      <a class="btn btn-primary" onclick="addToCart(this)">Añadir al carrito</a>
                    </div>
                </div>
                <div class="card" style="width: 25rem;">
                    <img src="src/img/mole.png" class="card-img-top">
                    <div class="card-body">
                        <center>
                            <h5 class="card-title">Mole</h5>
                            <p class="price">$80</p>
                        </center>
                      <p class="card-text">Calorias: 390<br>Proteinas (g): 37<br>Carbohidratos (g): 73</p>
                      <a class="btn btn-primary" onclick="addToCart(this)">Añadir al carrito</a>
                    </div>
                </div>                          
                <div class="card" style="width: 25rem;">
                    <img src="src/img/asado.png" class="card-img-top">
                    <div class="card-body">
                        <center>
                            <h5 class="card-title">Asado</h5>
                            <p class="price">$80</p>
                        </center>
                      <p class="card-text">Calorias: 450<br>Proteinas (g): 39<br>Carbohidratos (g): 67</p>
                      <a class="btn btn-primary" onclick="addToCart(this)">Añadir al carrito</a>
                    </div>
                </div>
                <div class="card" style="width: 25rem;">
                    <img src="src/img/agua-de-jamaica.png" class="card-img-top">
                    <div class="card-body">
                        <center>
                            <h5 class="card-title">Agua de Jamaica</h5>
                            <p class="price">$30</p>
                        </center>
                      <p class="card-text">Calorias: 110<br>Proteinas (g): 3<br>Carbohidratos (g): 10</p>
                      <a class="btn btn-primary" onclick="addToCart(this)">Añadir al carrito</a>
                    </div>
                </div>
                <div class="card" style="width: 25rem;">
                    <img src="src/img/agua-de-limon.png" class="card-img-top">
                    <div class="card-body">
                        <center>
                            <h5 class="card-title">Agua de limón</h5>
                            <p class="price">$60</p>
                        </center>
                      <p class="card-text">Calorias: 230<br>Proteinas (g): 23<br>Carbohidratos (g): 45</p>
                      <a class="btn btn-primary" onclick="addToCart(this)">Añadir al carrito</a>
                    </div>
                </div>          
            </div>
        </div>
    </center>
    <button id="cart-button" onclick="toggleCart()">Carrito</button>
    <div id="cart-dropdown">
        <h3>Carrito</h3>
        <ul id="cart-list">
        </ul>
        <p id="total-price">Precio Total: $0</p>
        <button onclick="completeOrder()">Completar Orden</button>
    </div>

    <script>
        let cart = [];

        function addToCart(button) {
            let productName = button.parentNode.querySelector('.card-title').innerText;
            let productPrice = parseFloat(button.parentNode.querySelector('.price').innerText.replace('$', ''));
            cart.push({ name: productName, price: productPrice });
            updateCart();
        }

        function updateCart() {
            let cartList = document.getElementById('cart-list');
            let totalPrice = 0;
            cartList.innerHTML = '';
            cart.forEach(item => {
                let listItem = document.createElement('li');
                listItem.textContent = item.name + ' - $' + item.price;
                cartList.appendChild(listItem);
                totalPrice += item.price;
            });
            document.getElementById('total-price').innerText = 'Precio Total: $' + totalPrice.toFixed(2);
        }

        function toggleCart() {
            let cartDropdown = document.getElementById('cart-dropdown');
            cartDropdown.style.display = cartDropdown.style.display === 'block' ? 'none' : 'block';
        }

        function completeOrder() {
        let totalPrice = cart.reduce((total, item) => total + item.price, 0);
        let orderNumber = Math.floor(Math.random() * 100); 
        alert(`Su pedido estará esperándolo. Tiene 15 minutos para recogerlo.\nNúmero de Pedido: ${orderNumber}\nPrecio Total: $${totalPrice.toFixed(2)}`);
        cart = [];
        updateCart();
}

        function openNav() {
            document.getElementById("mySidenav").style.width = "400px";
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }
    </script>
</body>
</html>